# Звіт до Лабораторної роботи №10: Kubernetes

**Студент:** Склянчук Артем
**Група:** ІПЗ-31
**Проєкт:** Restaurant Booking System

## 1. Виконані кроки
1.  **Контейнеризація:** Зібрано Docker-образ `restaurant-app:latest`.
2.  **Deployment:** Створено маніфест `deployment.yaml` з 1 реплікою, лімітами ресурсів та перевірками здоров'я (Liveness/Readiness probes).
3.  **Service:** Створено сервіс типу LoadBalancer для доступу до API.
4.  **ConfigMap:** Конфігурація середовища (APP_MODE) винесена у `configmap.yaml`.

## 2. Відповіді на контрольні запитання

**а) У чому відмінність між ConfigMap та Secret?**
ConfigMap використовується для зберігання неконфіденційних даних (налаштування, конфіги), у відкритому текстовому вигляді. Secret використовується для чутливих даних (паролі, ключі API) і зберігається у зашифрованому (base64) вигляді.

**b) У чому відмінність між liveness- та readiness-перевірками?**
* **Liveness Probe:** Перевіряє, чи живий контейнер. Якщо перевірка не проходить, Kubernetes перезапускає (вбиває і створює новий) контейнер.
* **Readiness Probe:** Перевіряє, чи готовий додаток приймати трафік. Якщо не проходить, Kubernetes тимчасово перестає посилати туди запити, але не вбиває контейнер.

**c) Через які ресурси проходить запит при зверненні:**
1.  **Через port-forward:** Локальний порт ПК -> API Server Kubernetes -> Pod (прямий тунель).
2.  **Через minikube service:** Браузер -> NodePort/LoadBalancer (на віртуальній ноді) -> Service (ClusterIP) -> Pod.

**d) Як рекомендується оновлювати конфігурацію?**
Якщо конфігурація змінюється у ConfigMap, поди автоматично про це не дізнаються (якщо змінні середовища). Рекомендується виконати `kubectl rollout restart deployment`, щоб створити нові поди, які підтягнуть нові значення.

**e) Як було мігровано власний сервіс?**
Було створено Dockerfile для Node.js застосунку. Базу даних SQLite "запечено" всередину образу для збереження тестових даних. Додано маніфести Deployment та Service. Використано Liveness Probe на ендпоінт `/tables` для моніторингу стабільності.
